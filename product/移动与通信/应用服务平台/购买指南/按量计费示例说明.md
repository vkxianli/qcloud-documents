云开发按量计费环境在每日统计各资源细项用量后，先减去免费额度（如有），再将所有含有该资源细项的资源包按到期时间从早到晚排序，逐个抵扣资源包剩余量。若抵扣完所有有效资源包后用量仍有剩余，则剩余部分按照按量计费单价计价，并在次日（特殊情况下账单也可能延迟推送）生成账单并扣除腾讯云账户余额。

>?本文中所有例子均不考虑折扣、代金券等特殊情况。

## 无免费额度且无资源包

#### 示例1
示例场景：
- 资源用量：假设2021年1月1日云托管 CPU 用量为24(核x小时），云托管内存用量为48（GB*小时）。
- 免费额度：无
- 资源包：无

计费详情：
- 抵扣详情：无抵扣，直接按量计费。
- 产生账单：
 - 云托管-CPU 费用：24 * 0.055 = 1.32 元
 - 云托管-内存费用：48 * 0.032 = 1.536 元

## 有免费额度但无资源包

#### 示例2
示例场景：
- 资源用量：假设2021年1月1日 CDN 流量用量为1GB。
- 免费额度：CDN 为1GB/月，未使用。
- 资源包：无

计费详情：
- 抵扣详情：总用量1GB减去免费额度1GB之后无剩余。
- 产生账单：无
- 状态变更：月免费额度已用完。

#### 示例3
示例场景：
- 资源用量：假设2021年1月1日 CDN 流量用量为1GB。
- 免费额度：CDN 为1GB/月，剩余0.5GB。
- 资源包：无

计费详情；
- 抵扣详情：总用量1GB减去免费额度0.5GB之后，还剩余0.5GB。
- 状态变更：月免费额度已用完。
- 产生账单：云开发-CDN 流量：0.5 * 0.18 = 0.09元。

## 无免费额度但有资源包

### 单一资源包

#### 示例4
示例场景：
- 资源用量：假设2021年1月1日静态网站托管流量用量为10GB。
- 免费额度：无
- 资源包情况：资源包 A（未使用，含100GB静态网站托管流量，到期日2021年9月30日）。

计费详情：
- 抵扣详情：总用量10GB通过资源包 A 抵扣10GB后无剩余。
- 产生账单：无
- 状态变更：资源包 A 状态变为“使用中”，剩余用量变为90GB。

#### 示例5
示例场景：
- 资源用量：假设2021年1月1日静态网站托管流量用量为10GB。
- 免费额度：无
- 资源包情况：资源包 A（使用中，含100GB静态网站托管流量剩余5GB、到期日2021年9月30日）。

计费详情：
- 抵扣详情：总用量10GB通过资源包 A 抵扣5GB后剩余5GB。
- 产生账单：云开发-静态网站托管流量： 5 * 0.21 = 1.05元。
- 状态变更：资源包 A 用完失效。

### 多个资源包

#### 示例6
示例场景：
- 资源用量：假设2021年1月1日静态网站托管流量用量为10GB。
- 免费额度：无
- 资源包情况：资源包 A（使用中，含100GB静态网站托管流量剩余5GB，到期日2021年9月30日）；资源包 B（未使用，含100GB静态网站托管流量，到期日2021年10月31日）

计费详情：
- 抵扣详情：因资源包 A 先到期，优先抵扣。总用量先通过资源包 A 抵扣5GB后，再通过资源包B抵扣5GB，最终无剩余。
- 产生账单：无
- 状态变更：资源包 A 用完失效，资源包 B 状态变为“使用中”、剩余用量变为95GB。

#### 示例7
示例场景：
- 资源用量：假设2021年1月1日静态网站托管流量用量为10GB。
- 免费额度：无
- 资源包情况：
	- 资源包 A：使用中，含50GB静态网站托管流量剩余5GB，到期日2021年10月31日。
	- 资源包 B：1月1日新购买未使用，含100GB静态网站托管流量，到期日2021年9月30日。
	- **资源包 B 后购买但先到期，为最大化资源包利用率，资源包 B 购买成功后系统自动将资源包 A 的已用量转移到资源包 B 中，最终资源包 A 变为未使用，资源包 B 变为使用中，剩余55GB。**

计费详情：
- 抵扣详情： 因资源包 B 先到期，优先抵扣。总用量通过资源包 B 抵扣10GB后无剩余。
- 产生账单：无
- 状态变更：资源包 A 状态为“未使用”，资源包 B 状态为“使用中”，剩余用量变为45GB。

### 复合资源包

#### 示例8
示例场景：
- 资源用量：假设2021年1月1日云数据库读操作次数10万次，写操作次数10万次。
- 免费额度：无
- 资源包情况：
	- 资源包 A：使用中，含云数据库读操作次数3000万次剩余0，云数据库写操作次数1500万次剩余5万次，到期日2021年9月30日。
	- 资源包 B：未使用，含云数据库读操作次数3000万次，云数据库写操作次数1500万次，到期日2021年10月31日。

计费详情：
- 抵扣详情：因资源包 A 先到期，优先抵扣。云数据库读操作次数10万次通过资源包 B 抵扣后无剩余，云数据库写操作次数10万次先通过资源包 A 抵扣5万次后，再通过资源包 B 抵扣5万次，无剩余。
- 产生账单：无
- 状态变更：资源包 A 用完失效；资源包 B 状态变为“使用中”，剩余云数据库读操作次数3000万次，云数据库写操作次数1495万次。

## 有免费额度也有资源包

#### 示例9
示例场景：
- 资源用量：假设2021年1月1日 CDN 流量用量为150GB。
- 免费额度：CDN 为1GB/月，未使用。
- 资源包：资源包 A（未使用，含100GB的 CDN 流量，到期日2021年9月30日）。

计费详情：
- 抵扣详情：总用量150GB减去免费额度1GB之后，再通过资源包 A 抵扣100GB，最后还剩余49GB。
- 产生账单：云开发-CDN 流量：49 * 0.18 = 8.82元
- 状态变更：月免费额度已用完；资源包 A 用完失效。
