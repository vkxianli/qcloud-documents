## 简介

虚拟节点并不是节点，而是一种调度能力，支持将标准 Kubernetes 集群中的 Pod 调度到集群服务器节点之外的资源中。腾讯云容器服务的虚拟节点会将开启该功能的集群中，符合调度条件的 Pod 调度到由 [弹性容器服务](https://cloud.tencent.com/document/product/457/39804) 维护的云上计算资源中。

部署在虚拟节点上的 Pod 具备云服务器一致的安全隔离性，具备与部署在集群既有节点上的 Pod 一致的网络隔离性、网络连通性。如下图所示：
![](https://main.qcloudimg.com/raw/db70da6395fa8bd34bda159b1f097df6.png)



## 相关概念

#### 弹性容器

在集群部署虚拟节点，将调度到虚拟节点上的 Pod 简称为弹性容器。部署为弹性容器的工作负载不占用集群服务器节点资源，也不受服务器节点资源上限限制。


#### 节点池

为帮助您高效管理 Kubernetes 集群内节点，腾讯云容器服务引入节点池概念。借助节点池基本功能，您可以方便快捷地创建、管理和销毁节点，以及实现节点的动态扩缩容。详情请参见 [节点池概述](https://cloud.tencent.com/document/product/457/43719)。




## 计费方式

弹性容器采用后付费的按量计费模式。按照实际配置的资源及使用时间计算，无需提前支付费用。会根据工作负载申请的 CPU、GPU、内存数值以及工作负载的运行时间来核算费用，详情请参见 [弹性容器定价](https://cloud.tencent.com/document/product/457/39806)。

## 调度说明

通常，开启了虚拟节点的集群在服务器节点资源不足时，会自动把 Pod 扩容到虚拟节点上。而服务器节点资源充足时，会优先缩容虚拟节点上的 Pod。详情请参见 [虚拟节点 Pod 调度说明](https://cloud.tencent.com/document/product/457/53030)。


## 应用场景

#### 减少集群资源 buffer，应对长期运行服务波峰

虚拟节点可以不占用集群服务器节点资源，快速的部署大量 Pod。适用于长期运行且资源负载特征为潮汐型的应用。

使用虚拟节点可以减少集群预留 buffer，将集群的节点维护在资源利用率更高、使用和预留更合理的水平。

在业务波峰进行扩容时会自动的优先调度到节点上，消耗预留的节点资源，再调度到虚拟节点上为集群补充更多的临时资源，这些资源会随着 Pod 缩容自动退还。


#### 替代节点扩缩容，应对短期运行任务

适合将短时间运行、资源需求量大的任务，手动调度到虚拟节点上。无需在部署这些负载前后进行集群节点的扩缩容，降低了扩缩节点的时间周期和维护成本。

可以在部署这些任务的时候，指定虚拟节点进行调度，就不会占用集群其他服务运行的节点资源。且任务运行结束 Pod 退出会自动退还资源并停止计费，不需要人力或程序再干预。

