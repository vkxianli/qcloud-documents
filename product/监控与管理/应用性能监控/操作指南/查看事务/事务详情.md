
本文将为您介绍如何查看事务详情。

## 前提条件


应用性能监控目前处于内测阶段，如需体验需通过 [应用性能监控内测申请](https://cloud.tencent.com/apply/p/f5yvbf09mka)。

## 操作步骤

1. 登录 [应用性能监控-事务](https://console.cloud.tencent.com/tapm/action)，进入事务列表页。
2. 单击需要查看详情的事务名称，进入事务详情页。
3. 您可以分别单击【概览】、【拓扑图】、【响应时间】、【错误】、【事务追踪】页签，查看对应的详情信息。
<dx-tabs>
::: 概览
![](https://main.qcloudimg.com/raw/1bd5085b5da25d607aca05730d6f5fc8.png)

**概览**标签页中，各个指标的说明如下：

- **平均响应时间**：该事务在统计周期内的平均响应时间。单击后，可跳转到【响应时间】页签查看详情。
- **错误率**：该事务本身及其调用的服务接口在统计周期内的发生错误和不影响事务的异常的事务次数占事务总执行次数的百分比。单击后，可跳转到【错误】页签查看错误详情。
- **错误数**：该事务本身及其调用的服务接口在统计周期内的发生错误和不影响事务的异常的数量。
- **吞吐率**：该事务在统计周期内每秒平均被访问的次数。
- 为该事务访问过程提供资源支撑的实例信息，亦包括服务接口的实例，图标的右上角显示实例的数量。单击实例名称，展开到实例分析页面。
- **外部服务**：当前事务调用的外部服务的次数和平均调用时间。点击某一行展开到外部服务分析页面。
- **服务组件**：如果事务调用了数据库、NoSQL 或者 MQ，也会相应的显示调用该组件的次数和组件的平均响应时间。点击某一行展开到分析页面。
- **Apdex 趋势图**：当前事务的 Apdex 指数的变化趋势。右上角显示用于计算 Apdex 指数的 Apdex T和统计时间周期内的平均 Apdex 指数值。
- **基本指标趋势图**：展示当前事务在统计周期内的平均响应时间、请求和错误三个重要指标的历史趋势图。
	- **响应时间**：显示平均响应时间和4个自定义分位值响应时间的历史曲线，鼠标悬停在曲线上时显示当前时间点的对应响应时间指标数值并在其他两个趋势图中联动显示其他指标。右上角分别展示统计时间段内该事务的最大响应时间和平均响应时间。
	- **请求**：显示吞吐率的历史趋势图和请求数的条形图，并在其他两个趋势图中联动显示其他指标。右上角分别展示统计时间段内该事务的请求总次数和平均每秒请求数。
	- **错误**：显示当前事务错误率的趋势图和错误数的条形图，并在其他两个趋势图中联动显示其他指标。右上角的3个数值分别代表统计时间段内该事务发生的错误总次数、每分钟的错误数和平均错误率，不含异常的统计。
:::
::: 拓扑图
- **拓扑图**
 系统以拓扑图的形式展示当前事务在统计周期内的调用关系，拓扑图中展示由当前事务的请求所调用的当前业务系统中的所有应用和服务组件，以及其间接调用的当前业务系统之外的其他业务系统。应用、服务组件和业务系统之间以连线的形式展示当前事务所经过的调用关系。拓扑图上，当前事务的入口应用以“入口”的字样标注出来。
  将鼠标悬停在应用、服务组件或业务系统的图标上，可查看平均响应时间、平均吞吐率、峰值吞吐率等具体信息。点击图标名称可进入对应对象的概览页面。拓扑图连线上展示在当前事务调用过程中应用之间、应用与服务组件之间、应用与其他业务系统之间调用的平均响应时间、平均吞吐率和平均错误率，将鼠标悬浮在这些数字可查看峰值吞吐率、平均响应时间缩略图等。点击连线会以弹出对话框窗口的形式展示应用与组件、应用与应用、应用与业务系统之间的详细调用情况，例如上游的事务或服务接口、数据库操作、相关的异常和追踪信息。
- **Top 10错误**：显示当前事务中出现率最高的前10种错误的趋势图。
- **基本指标趋势图**：展示当前事务在统计周期内的平均响应时间、请求和错误三个重要指标的历史趋势图。
  - **响应时间**：显示平均响应时间和4个自定义分位值响应时间的历史曲线，鼠标悬停在曲线上时显示当前时间点的对应响应时间指标数值并在其他两个趋势图中联动显示其他指标。
  - **请求**：显示吞吐率的历史趋势图和请求数的条形图，并在其他两个趋势图中联动显示其他指标。
  - **错误**：显示当前事务错误率的趋势图和错误数的条形图，并在其他两个趋势图中联动显示其他指标。右上角的3个数值分别代表统计时间段内该事务发生的错误总次数、每分钟的错误数和平均错误率，不含异常的统计。
:::
::: 响应时间
![](https://main.qcloudimg.com/raw/9fd8d88ff8ef9f243521f29ed4c21c8c.png)

- **响应时间**：显示以粒度时间为统计段的事务请求响应时间的变化趋势图和请求次数条形图。左侧的纵坐标为响应时间，右侧的纵坐标为请求次数。
- **响应时间分解趋势**：以堆叠图的形式展示每一次事务响应时间的构成部分，包含Code execution（代码执行）、数据库访问、NoSQL访问、MQ访问和External（即外部服务）5部分。
- **响应时间分解表格**：展示当前事务的各个重要方法（即代码段）的耗时趋势图。图表展示前5个最耗时的代码段以及其他（耗时小于2%的代码段会汇总到“其他”类别中）。每个点的响应时间数值为粒度时间内代码段的平均执行时间。
- **代码段列表**：展示当前事务（对应着多个请求）涉及的所有代码段性能分类、代码段、所属应用和服务接口、总耗时、耗时百分比、调用次数和平均执行时间。代码段按总耗时降序排序。支持自定义表头。
    - 代码段部分以更简洁、易懂的形式进行展现，例如调用数据库代码部分会展现为：域名/数据库名称。如果发现数据库代码耗时较长，可点击数据库代码段链接，跳转到该数据库组件的**SQL分析**页面，查看该事务调用当前数据库的所有SQL语句详情。默认按照平均执响应时间排序。
    - 在**SQL分析**页面中单击 SQL 语句，可查看该 SQL 语句的详细统计信息，包括概要信息、完整的 SQL 语句、统计周期内的平均响应时间&吞吐率图表、错误率图表、SQL调用者的分析、错误分析、慢SQL追踪列表和发生错误和异常的 SQL 追踪列表。追踪列表部分展示包含该 SQL 语句的事务追踪的列表，点击列表项可跳转到对应的事务追踪详情页面，并定位到当前 SQL 语句的执行代码段位置。
- 性能指标是按照应用的代码类型对代码段大致归类。其中“External”类型是外部服务调用，“Hotspot”类型是热点方法，“Custom”类型是自定义嵌码的方法。
- **所属应用-服务接口**：当前代码段所属的应用和所对应的下游应用的服务接口。
- **总耗时**：各代码段在统计周期内的总耗时。
- **总耗时占比** = 当前代码段的总耗时 / 各代码段在统计周期内的总耗时。
- **调用次数**：当前代码段在统计周期内被调用的次数。
- **平均响应时间**：当前代码段在统计周期内的平均执行时间。

![](https://main.qcloudimg.com/raw/f1743d13c14348ab4fc63089b98cecd0.png)
:::
::: 错误
**错误**页签中，显示错误率和错误数的趋势图、请求数的条形图。

![](https://main.qcloudimg.com/raw/36f3d46ea2c369600cbdad80ebd2533d.png)

错误列表展示该事物发生的所有错误和异常。支持根据异常类型、异常名称、用户名称和参数进行过滤查询。单击列表中的追踪次数，可跳转到【事务追踪】页签，默认显示包含该错误的事务追踪。
:::
::: 事务追踪
详情请参见事务追踪 [概述](https://cloud.tencent.com/document/product/1349/52275) 文档。
:::
</dx-tabs>


